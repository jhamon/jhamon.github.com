<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom"><title>Jennifer Hamon</title><link href="http://jhamon.github.com/" rel="alternate"></link><link href="http://jhamon.github.com/feeds/Productivity.atom.xml" rel="self"></link><id>http://jhamon.github.com/</id><updated>2013-02-12T00:00:00Z</updated><entry><title>Turn your mac into HAL</title><link href="http://jhamon.github.com/sleep-schedule.html" rel="alternate"></link><updated>2013-02-12T00:00:00Z</updated><author><name>Jennifer Hamon</name></author><id>tag:jhamon.github.com,2013-02-12:sleep-schedule.html</id><summary type="html">&lt;p&gt;In the past I have had some problems going to bed at a reasonable hour.  When I get interested in something on the computer late at night, I often end up staying up well past the time when I should have gone to sleep.  This is bad because it affects my happiness and productivity significantly the following day.&lt;/p&gt;
&lt;p&gt;This has happened to me a lot recently, so I decided to write a little script to nag me about the benefits of regular sleep if I'm on the computer in the wee hours of the morning.&lt;/p&gt;
&lt;h3&gt;1. Finding things for my computer to tell me&lt;/h3&gt;
&lt;p&gt;I started with a quick google search about healthy sleep to find things for my script to say.  I did a copy/paste on the first couple articles that looked good and edited them into a text file with one fact-filled sentence per line.  I deleted any lines that wouldn't stand on their own as a statement of fact, and gave it a descriptive name: &lt;code&gt;SleepFacts.txt&lt;/code&gt;.&lt;/p&gt;
&lt;h3&gt;2. Writing the script&lt;/h3&gt;
&lt;p&gt;Next I need a small script to print a random line from my text file of sleep facts.  Much as I wish there were a &lt;code&gt;sort --random&lt;/code&gt; type of command available, I couldn't find one so decided to write my own in python.  I saved the following into &lt;code&gt;~/scripts/print_random_line.py&lt;/code&gt;:&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;&lt;span class="c"&gt;#!/usr/bin/env python&lt;/span&gt;
&lt;span class="c"&gt;# Prints one random line from a text file, e.g. SleepFacts.txt&lt;/span&gt;
&lt;span class="c"&gt;# usage: print_random_line.py ~/path/to/file&lt;/span&gt;

&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;sys&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;argv&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;random&lt;/span&gt;

&lt;span class="k"&gt;try&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="n"&gt;filename&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;argv&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
    &lt;span class="nb"&gt;file&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;open&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;filename&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;r&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="k"&gt;except&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;File not found.&amp;#39;&lt;/span&gt;
    &lt;span class="n"&gt;sys&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;exit&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;lines&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;file&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;readlines&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="n"&gt;lines&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;random&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;randrange&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nb"&gt;len&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;lines&lt;/span&gt;&lt;span class="p"&gt;))]&lt;/span&gt;
&lt;span class="nb"&gt;file&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;close&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Next I made the file executable and make it available from the command line by symlinking it to &lt;code&gt;/usr/bin&lt;/code&gt;:&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;&lt;span class="nv"&gt;$ &lt;/span&gt;sudo chmod +x ~/scripts/print_random_line.py
&lt;span class="nv"&gt;$ &lt;/span&gt;ln -s ~/scripts/print_random_line.py /usr/bin/printrl
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Now I'm ready to make the computer say a random line in a text file using the builtin text-to-speech capability.  On a mac:&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;&lt;span class="nv"&gt;$ &lt;/span&gt;printrl SleepFacts.txt | say
&lt;span class="nv"&gt;$ &lt;/span&gt;&lt;span class="nb"&gt;echo &lt;/span&gt;Jen: &lt;span class="sb"&gt;`&lt;/span&gt;printrl ~/txt/SleepFacts.txt&lt;span class="sb"&gt;`&lt;/span&gt; | say &lt;span class="c"&gt;# Personalize it!&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;or on most linux systems&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;&lt;span class="nv"&gt;$ &lt;/span&gt;printrl SleepFacts.txt | espeak
&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;3. Automating the process&lt;/h3&gt;
&lt;p&gt;Awesome.  Now I have something that performs the action I'm after, I just need to schedule it to execute and nudge me toward healthier sleep habits anytime I'm on the computer late at night.  &lt;code&gt;cron&lt;/code&gt; is the perfect tool for this.&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt; &lt;span class="nv"&gt;$ &lt;/span&gt;crontab -e
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;And put this on a new line:&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt; */10 0,1,2,3,4,5,6 * * * /usr/bin/printrl ~/txt/SleepFacts.txt | /usr/bin/say
&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;PROFIT!&lt;/h3&gt;
&lt;p&gt;Now anytime I'm on the computer after midnight, my computer helpfully nags me every 10 minutes about the benefits of regular sleep.  Was this kind of silly?  Definitely.  But I think it will help me improve my habits.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;em&gt;"Without adequate sleep and rest, over-worked neurons can no longer function to coordinate information properly, and we lose our ability to access previously learned information."&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;&lt;em&gt;"A sleep-deprived person cannot focus attention optimally and therefore cannot learn efficiently."&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;&lt;em&gt;"Although chronic sleep deprivation affects different individuals in a variety of ways, it is clear that a good nightâ€™s rest has a strong impact on learning and memory."&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;//powers off computer and goes to bed//&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;</summary></entry></feed>