<div class="highlight"><pre><span class="k">module</span> <span class="nn">BasePrinter</span>
  <span class="k">def</span> <span class="nf">prepare_and_print</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">magical_formatting</span><span class="p">(</span><span class="n">data</span><span class="p">))</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">magical_formatting</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
    <span class="s2">&quot;Magical data: </span><span class="si">#{</span><span class="n">data</span><span class="si">}</span><span class="s2">&quot;</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">print</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
    <span class="k">raise</span> <span class="s2">&quot;not implemented&quot;</span>
  <span class="k">end</span>
<span class="k">end</span>

<span class="k">class</span> <span class="nc">PlainPrinter</span>
  <span class="kp">include</span> <span class="no">BasePrinter</span>

  <span class="k">def</span> <span class="nf">print</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
    <span class="nb">puts</span> <span class="n">data</span>
  <span class="k">end</span>
<span class="k">end</span>

<span class="k">class</span> <span class="nc">ShufflePrinter</span>
  <span class="kp">include</span> <span class="no">BasePrinter</span>

  <span class="k">def</span> <span class="nf">print</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
    <span class="nb">puts</span> <span class="n">data</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">shuffle</span><span class="o">.</span><span class="n">join</span>
  <span class="k">end</span>
<span class="k">end</span>

<span class="k">class</span> <span class="nc">BogusPrinter</span>
  <span class="kp">include</span> <span class="no">BasePrinter</span>

  <span class="k">def</span> <span class="nf">bogus_print</span>
    <span class="c1"># whatever</span>
  <span class="k">end</span>
<span class="k">end</span>

<span class="k">class</span> <span class="nc">PDFPrinter</span> <span class="o">&lt;</span> <span class="no">BadassPDFLibrary</span>
  <span class="kp">include</span> <span class="no">BasePrinter</span>

  <span class="k">def</span> <span class="nf">print</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
    <span class="c1"># do stuff</span>
  <span class="k">end</span>
<span class="k">end</span>
</pre></div>